---
title: 设计
description: 了解 Web 端的设计
authors:
  - flytreleft
---

import Header from '@site/docs/\_header.md';

<Header />

## 设计思路

- 设计 DSL 用于通用地描述页面、组件的结构和布局
  - 页面本身是由一个根组件和页面状态数据组成，其本质也是组件
  - 页面通过 URL 作为定位坐标，组件则通过 `name` 或 `id` 作为定位坐标
  - 组件由状态、行为和配置属性组成，本身是一个自相关的 DSL 节点
- 通过 Nop 对 DSL 做**差量合并**，并对其做**形式变换**以将其转换为 Svelte 组件代码
  - 设计并实现一套基于 Svelte 的 Headless UI 框架，并逐步添加基础功能组件
  - 组件可自由组合形成新的组件，逻辑可完全复用，样式可自由定义
  - 通过 DSL 描述组件组合以形成组件库，再通过 Nop 将其形式变换为最终的 Svelte 代码
- 在开发阶段，Nop 后端会根据 DSL 变更情况实时转换生成
  Svelte 代码到其开发服务所指定的目录下，再由其实时编译生成最终的 JS 代码
  - 开发阶段的前端与后端采用的是不同的构建机制，并通过热加载机制实现二者产物的动态更新
  - 前端不需要了解 DSL 的存在及其结构，其只关注于 Svelte 框架代码相关的内容
  - 后端需要根据 DSL 以及目标构建环境的要求，构建（形式变换或者是模板引擎）生成前端所支持的代码

---
title: 设计
description: 了解 DSL 设计器的设计
authors:
  - flytreleft
---

import Header from '@site/docs/\_header.md';

<Header />

- 设计并生成 XMeta 模型
- 根据 XMeta 生成 GraphQL 后端，并验证接口的数据读写功能
  - 以 H2 作为测试库
- 以单体模式设计应用各个部分，在需要时可以按模块分组，
  并在部署前确定是以单体模式，还是微服务模式部署，
  再根据部署模式构建单体或各个微服务
  - 部署信息标注在**部署模型**上，其结构由 DSL 设计器维护
- 在指定位置存放 XDef、XDsl 定义，在将其解析为设计器的 DSL
  结构后，再通过设计器维护其结构
  - 由渡舟平台统一存放定义文件，在构建应用时识别应用所需要的定义，
    再将其打包进 jar，后续有更新时，再通过配置中心下发变更
- 可视化部分，采用树形结构来展示和设计应用，在 DSL
  的配置中可跳转到页面设计器、接口设计器等工具
  - 在节点上通过附加属性 `task:status` 来标示该节点为任务节点，
    该属性的值为该任务的状态，节点的唯一标识为任务的标识，
    当前的 DSL 树即为父子任务树
  - 在设计器中通过「加入待办」按钮将指定节点添加为待办任务节点

<!-- https://plantuml.com/mindmap-diagram -->

```plantuml
@startmindmap

* <&globe> App#部门管理系统
** <&pulse> Service#用户认证
*** <&target> Permission
*** <&target> Role
*** <&target> Account
** <&pulse> Service#组织机构
*** <&target> User
*** <&target> Department
** <&browser> Web
*** <&laptop> Site#/signin
**** <&fork> Resource#signin
*** <&laptop> Site#/admin
**** <&fork> Resource#auth
***** <&fork> Resource#permission
***** <&fork> Resource#role
**** <&fork> Resource#org

@endmindmap
```
